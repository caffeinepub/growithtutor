{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Centralize and replace public domain references",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Introduce a single, documented frontend public-domain setting and route all self-domain references through it.",
      "acceptanceCriteria": [
        "There is exactly one clearly-documented place to set the appâ€™s public domain (e.g., `VITE_PUBLIC_DOMAIN` or similar).",
        "No UI text is introduced that hardcodes the previous domain.",
        "Changing the configured domain updates all self-domain references that were wired to the setting."
      ],
      "file_operations": [
        {
          "path": "frontend/src/config/publicDomain.ts",
          "operation": "create",
          "description": "Create a centralized `PUBLIC_DOMAIN` (or `PUBLIC_HOST`) config sourced from a single Vite env var (e.g., `VITE_PUBLIC_DOMAIN`) with a safe runtime fallback (e.g., `window.location.host`/`hostname`) and clear inline documentation indicating this is the only place the React app should reference its own public domain."
        },
        {
          "path": "frontend/src/config/siteConfig.ts",
          "operation": "modify",
          "description": "Add documentation/comments that point deployers to the new public-domain configuration (in `frontend/src/config/publicDomain.ts` and `VITE_PUBLIC_DOMAIN`) to make the domain setting discoverable alongside existing site-level configuration."
        }
      ]
    },
    {
      "id": "REQ-2",
      "summary": "Replace hardcoded growithtutor.com references in marketing header/footer and the standalone static landing page with the centralized domain configuration (or a standalone constant).",
      "acceptanceCriteria": [
        "`frontend/src/components/marketing/MarketingHeader.tsx` and `frontend/src/components/marketing/MarketingFooter.tsx` no longer hardcode `https://growithtutor.com/...` directly in-line; the hostname is sourced from a centralized configuration.",
        "`frontend/static/growwithtutor-standalone/index.html` no longer hardcodes `https://growithtutor.com/...` directly in-line; the hostname is sourced from a clearly documented constant for the standalone page.",
        "After changing the configured domain/host, the marketing header/footer logo loads from the updated domain (assuming the asset path exists on that domain)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/marketing/MarketingHeader.tsx",
          "operation": "modify",
          "description": "Replace the hardcoded `https://growithtutor.com/...` logo URL with a URL composed from the centralized `PUBLIC_DOMAIN` configuration (from `frontend/src/config/publicDomain.ts`) plus the existing asset path so the host can be changed without code hunting."
        },
        {
          "path": "frontend/src/components/marketing/MarketingFooter.tsx",
          "operation": "modify",
          "description": "Replace the hardcoded `https://growithtutor.com/...` logo URL with a URL composed from the centralized `PUBLIC_DOMAIN` configuration (from `frontend/src/config/publicDomain.ts`) plus the existing asset path; ensure no new inline hardcoded previous-domain text is introduced."
        },
        {
          "path": "frontend/src/pages/SetupChecklistPage.tsx",
          "operation": "modify",
          "description": "Update any hardcoded logo URL/detail strings that reference `https://growithtutor.com/...` so they derive from the centralized public-domain configuration, keeping the checklist accurate after a domain change."
        },
        {
          "path": "frontend/static/growwithtutor-standalone/index.html",
          "operation": "modify",
          "description": "Remove inline hardcoded `https://growithtutor.com/...` references (e.g., header/footer logo image `src`) and instead wire them to a clearly documented standalone constant (e.g., `STANDALONE_PUBLIC_DOMAIN`) that is used to construct the full asset URLs at runtime (e.g., via a small inline script that assigns the image `src`). Also replace any other inline `growithtutor` host usage meant to represent the site domain (such as fixed UTM content) with a non-hardcoded value derived from the same constant or `window.location.hostname`."
        }
      ]
    },
    {
      "id": "REQ-3",
      "summary": "Document how to change the production domain and enumerate all affected project locations, including the standalone landing page.",
      "acceptanceCriteria": [
        "`frontend/DEPLOYMENT.md` contains a section titled similar to \"Changing the Domain\" that documents the steps and the config value(s) to update.",
        "The doc lists the React app domain setting and the standalone landing page domain setting (if separate) and explains how to keep them in sync."
      ],
      "file_operations": [
        {
          "path": "frontend/DEPLOYMENT.md",
          "operation": "modify",
          "description": "Add a \"Changing the Domain\" section describing (1) DNS updates at a high level, (2) any Internet Computer hosting / canister URL considerations at a high level, and (3) the exact project configuration locations to change: the React app `VITE_PUBLIC_DOMAIN` used by `frontend/src/config/publicDomain.ts`, plus the standalone landing page domain constant in `frontend/static/growwithtutor-standalone/index.html`, with guidance on keeping both values in sync."
        }
      ]
    },
    {
      "id": "REQ-4",
      "summary": "Expose the currently configured public domain/host as a read-only item in the existing setup/checklist UX for verification.",
      "acceptanceCriteria": [
        "A setup/checklist area of the app displays the currently configured public domain/host value.",
        "The displayed value is read-only (no need for an in-app editor) and matches the configuration setting used by the app."
      ],
      "file_operations": [
        {
          "path": "frontend/src/pages/SetupChecklistPage.tsx",
          "operation": "modify",
          "description": "Add a new read-only checklist item/note (e.g., \"Domain Settings\") that displays the currently configured `PUBLIC_DOMAIN` value from `frontend/src/config/publicDomain.ts` and points deployers to the single configuration location (the env var / config file) without providing in-app editing."
        }
      ]
    }
  ]
}